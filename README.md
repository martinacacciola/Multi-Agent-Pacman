# Multi-Agent Pacman Capture the Flag
This project presents an approach to the Monte Carlo Tree Search (MCTS) in the context of ”Pacman Capture The Flag”, a multi-player variant of the popular game, where agents control both Pacman and ghosts in coordinated team-based strategies. After thoroughly analyzing the game environment, we guide the search using a selection strategy that balances exploration and exploitation. In this way, we evaluate the states and understand which nodes to expand during the search process. In addition to the MCTS agent, we implement other non-tree search-based agents using heuristic methods and document our comparative analysis, by performing a local tournament to gain insights into the performances.

<p align="center">
 <img width="419" alt="image" src="https://github.com/user-attachments/assets/07a41ee5-8bb1-4107-bc12-bff54569518f">
</p>

## Monte Carlo Tree Search
Monte Carlo Tree Search (MCTS) is a decision-making algorithm, consisting of the search of com- binatorial spaces, represented by trees. It explores the state of the actions by simulating a random sampling, then stores the information about what is performed and learns in an intelligent manner which could be the best choice in each subsequent iteration. For this reason, it can be employed in sequential decision-making challenges, such as video games: in these contexts, an agent must make a series of choices, each of which influences the future state of the game. In the application of complex games, MCTS might be particularly effective due to its adaptability to large state spaces with many possible actions, where traditional search algorithms may be computationally expensive or infeasible. The advantages of MCTS include its flexibility and efficiency. It is an anytime algorithm, meaning it can be stopped at any time to return the best solution found so far. This makes it adaptable to real-time constraints, a common feature in video games. MCTS also balances exploration and exploitation during the search process, ensuring that the algorithm does not focus too narrowly on one part of the search space. Furthermore, MCTS does not require a heuristic function but can be enhanced with domain knowledge in various ways, making it versatile and applicable to a wide range of problems.
In the context of the Pacman Capture the Flag Contest, MCTS can be used to guide the actions of both the Pacman and the ghost. The game involves two teams, each controlling a Pacman and a ghost, competing against each other. The state space of the game includes the positions of all characters and the remaining food. The actions include moving the characters in different directions. MCTS can be used to simulate different sequences of actions, evaluate their outcomes, and select the most promising actions to execute. The algorithm can be run separately for the Pacman and the ghost, allowing them to coordinate their actions and work together to beat the opposing team. The flexibility and efficiency of MCTS make it a suitable choice for this complex and dynamic game environment.

<p align="center">
 <img width="324" alt="image" src="https://github.com/user-attachments/assets/44f7fee0-a4f6-4886-a603-b3d9b6d81f18">
</p>

## Pacman Environment
The Pacman Capture the Flag Contest is a simple yet strategic game where two teams, red and blue, compete against each other. The goal of each team is to eat as many food pellets as possible from the opposing side while avoiding their ghost agent. When Pacman consumes food pellets, they are stored inside it and removed from the game board. The team scores one point per food pellet when Pacman returns to its original side. If Pacman is eaten by a ghost from the opposing team, the stored food pellets are scattered around the position where Pacman was caught. The game also includes power capsules, which, when consumed by Pacman, cause the opposing team’s agents to enter a ”scared” mode for 40 moves or until they are consumed by the powered-up Pacman. Eaten ”scared” ghosts respawn in their original position and normal state. The game concludes in one of two ways: either one team returns all but two of the opponents’ dots, or the game reaches a set number of total moves (default is 1200 moves, i.e., 300 moves per agent). The team that has returned the most food pellets wins when the move limit is reached.
In the context of our task, these game rules and mechanics form the basis of the state and action space that the MCTS algorithm will explore. Each state in the MCTS tree represents a configuration of the game, including the positions of all characters and the remaining food pellets. Each action represents a possible move for Pacman or the ghost. The MCTS algorithm will simulate different sequences of actions, evaluate their outcomes, and select the most promising actions to execute. By doing so, it will guide the Pacman and ghost agents to make strategic decisions that maximize their score and chances of winning the game.




